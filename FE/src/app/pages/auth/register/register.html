<div class="register-wrapper">
    <div class="register-container glass-effect">
        <h2 class="text-center mt-3">Đăng Ký</h2>

        <form [formGroup]="form" (ngSubmit)="submit()" class="d-flex flex-column gap-3">
            <div class="form-fields-grid">
                <!-- USERNAME & FULLNAME -->
                <div class="row g-3">
                    <div class="col-12 col-md-6">
                        <div class="mb-3 input-group-wrapper">
                            <label for="username" class="form-label">Tên đăng nhập</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-user"></i></span>
                                <input formControlName="userName" type="text" class="form-control" id="username"
                                    placeholder="Nhập tên đăng nhập" />
                            </div>
                            <div class="error-slot">
                                <small class="error-line" [class.visible]="f.userName.touched && f.userName.invalid">
                                    {{ f.userName.errors?.['required']
                                    ? 'Tên người dùng không được để trống.'
                                    : f.userName.errors?.['maxlength']
                                    ? 'Tối đa 50 ký tự.'
                                    : '' }}
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                        <div class="mb-3 input-group-wrapper">
                            <label for="fullName" class="form-label">Họ và tên</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-address-card"></i></span>
                                <input formControlName="fullName" type="text" class="form-control" id="fullName"
                                    placeholder="Nhập họ và tên" />
                            </div>
                            <div class="error-slot">
                                <small class="error-line" [class.visible]="f.fullName.touched && f.fullName.invalid">
                                    {{ f.fullName.errors?.['required'] ? 'Họ và tên không được để trống.' : '' }}
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PASSWORD & EMAIL -->
                <div class="row g-3">
                    <div class="col-12 col-md-6">
                        <div class="mb-3 input-group-wrapper">
                            <label for="password" class="form-label">Mật khẩu</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-lock"></i></span>
                                <input formControlName="password" type="password" class="form-control" id="password"
                                    placeholder="Nhập mật khẩu" />
                            </div>
                            <div class="error-slot">
                                <small class="error-line" [class.visible]="f.password.touched && f.password.invalid">
                                    {{ f.password.errors?.['required'] ? 'Mật khẩu không được để trống.' : '' }}
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                        <div class="mb-3 input-group-wrapper">
                            <label for="email" class="form-label">Email</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
                                <input formControlName="email" type="email" class="form-control" id="email"
                                    placeholder="Nhập email" />
                            </div>
                            <div class="error-slot">
                                <small class="error-line" [class.visible]="f.email.touched && f.email.invalid">
                                    {{ f.email.errors?.['email'] ? 'Email không hợp lệ.' : f.email.errors?.['required']
                                    ?
                                    'Email
                                    không được để trống.' : '' }}
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CONFIRM PASSWORD & PHONE -->
                <div class="row g-3">
                    <div class="col-12 col-md-6">
                        <div class="mb-3 input-group-wrapper">
                            <label for="confirmPassword" class="form-label">Xác nhận mật khẩu</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-lock"></i></span>
                                <input formControlName="confirmPassword" type="password" class="form-control"
                                    id="confirmPassword" placeholder="Nhập lại mật khẩu" />
                            </div>
                            <div class="error-slot">
                                <small class="error-line"
                                    [class.visible]="f.confirmPassword.touched && f.confirmPassword.invalid">
                                    {{ f.confirmPassword.errors?.['required'] ? 'Xác nhận mật khẩu không được để trống.'
                                    :
                                    '' }}
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                        <div class="mb-3 input-group-wrapper">
                            <label for="phone" class="form-label">Số điện thoại</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-phone"></i></span>
                                <input formControlName="phone" type="tel" class="form-control" id="phone"
                                    placeholder="Nhập số điện thoại" />
                            </div>
                            <div class="error-slot">
                                <small class="error-line" [class.visible]="f.phone.touched && f.phone.invalid">
                                    {{ f.phone.errors?.['required'] ? 'Số điện thoại không được để trống.' : '' }}
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FOOTER (NÚT ĐĂNG KÝ) -->
            <div class="col-12 form-footer">
                <div class="d-flex flex-column align-items-center gap-2 w-100">
                    <button type="submit" class="btn btn-primary w-50" [disabled]="loading()">
                        <span *ngIf="!loading()">Đăng ký</span>
                        <span *ngIf="loading()" class="spinner-border spinner-border-sm"></span>
                    </button>
                    <p class="form-text">
                        Đã có tài khoản?
                        <a (click)="login()">Đăng nhập</a>
                    </p>
                </div>
            </div>
        </form>
    </div>
</div>